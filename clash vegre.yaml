# 代理集合（获取机场订阅链接内的所有节点）
proxy-providers:
  🛫 我的机场 1:
    type: http
    # 机场订阅链接，使用 Clash 链接
    url: "https://v2.ixlmo.com/api/v1/client/subscribe?token=b31df5c6eb045f044c8d455887ff4338&flag=clash"
    path: ./proxies/airport1.yaml
    interval: 43200
    # 初步筛选需要的节点，可有效减轻路由器压力，支持正则表达式，不筛选可删除此配置项
    # filter: "(?i)港|hk|hongkong|hong kong|台|tw|taiwan|日本|jp|japan|新|sg|singapore|美|us|unitedstates|united states"
    health-check:
      enable: true
      # 未选择到当前代理集合时，不会进行测试，有多个代理集合时可使用
      lazy: true
      url: "http://detectportal.firefox.com/success.txt"
      interval: 600

  🛫 我的机场 2:
    type: http
    url: "https://1.xn--xc3ao8r.top/api/v1/client/subscribe?token=5270303eda704173037e717915a37f60&flag=clash"
    path: ./proxies/airport2.yaml
    interval: 43200
    filter: "(?i)港|hk|hongkong|hong kong|台|tw|taiwan|日本|jp|japan|新|sg|singapore|美|us|unitedstates|united states"
    health-check:
      enable: true
      lazy: true
      url: "http://detectportal.firefox.com/success.txt"
      interval: 600

# 单个出站代理节点（以 vless 为例）
proxies:
    null

# 策略组
proxy-groups:
  - {name: 🚀 节点选择, type: select, proxies: [🇭🇰 香港节点, 🇯🇵 日本节点, 🇸🇬 新加坡节点, 🇺🇸 美国节点,  🇹🇼 台湾节点]}
  - {name: 📈 网络测速, type: select, proxies: [🎯 全球直连, 🇭🇰 香港节点, 🇹🇼 台湾节点, 🇯🇵 日本节点, 🇸🇬 新加坡节点, 🇺🇸 美国节点]}
  - {name: 🐟 漏网之鱼, type: select, proxies: [🚀 节点选择, 🎯 全球直连]}
  - {name: 🎮 游戏平台, type: select, proxies: [🎯 全球直连, 🚀 节点选择]}
  - {name: Ⓜ️ 微软服务, type: select, proxies: [🎯 全球直连, 🚀 节点选择]}
  - {name: 📢 谷歌服务, type: select, proxies: [🎯 全球直连, 🚀 节点选择]}
  - {name: 🍎 苹果服务, type: select, proxies: [🎯 全球直连, 🚀 节点选择]}
  - {name: 📲 电报消息, type: select, proxies: [🚀 节点选择]}
  - {name: 🛑 广告拦截, type: select, proxies: [REJECT]}
  - {name: 🎯 全球直连, type: select, proxies: [DIRECT]}

  # ----------------国家或地区策略组---------------------
  - {name: 🇭🇰 香港节点, type: url-test, tolerance: 100, lazy: true, use: [🛫 我的机场 1, 🛫 我的机场 2], filter: "(?i)港|hk|hongkong|hong kong"}
  - {name: 🇯🇵 日本节点, type: url-test, tolerance: 100, lazy: true, include-all-providers: true, filter: "(?i)日本|jp|japan"}
  - {name: 🇸🇬 新加坡节点, type: url-test, tolerance: 100, lazy: true, use: [🛫 我的机场 1, 🛫 我的机场 2], filter: "(?i)新|sg|singapore"}
  - {name: 🇺🇸 美国节点, type: url-test, tolerance: 100, lazy: true, use: [🛫 我的机场 1, 🛫 我的机场 2], filter: "(?i)美|us|unitedstates|united states"}
  - {name: 🇹🇼 台湾节点, type: load-balance, strategy: consistent-hashing, lazy: true, use: [🛫 我的机场 1, 🛫 我的机场 2], filter: "(?i)台|tw|taiwan"}

# 规则集（yaml 文件每天自动更新）
rule-providers:
  AdGuardSDNSFilter_Direct:
    type: http
    behavior: classical
    format: text
    path: ./rule/Clash/AdGuardSDNSFilter/Direct/Direct.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/AdGuardSDNSFilter/Direct/Direct.yaml"
    interval: 86400
    
  AdGuardSDNSFilter:
    type: http
    behavior: classical
    format: text
    path: ./rule/Clash/AdGuardSDNSFilter/AdGuardSDNSFilter_Classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/AdGuardSDNSFilter/AdGuardSDNSFilter_Classical.yaml"
    interval: 86400

  BlockHttpDNS:
    type: http
    behavior: classical
    format: text
    path: ./rule/Clash/BlockHttpDNS/BlockHttpDNS.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BlockHttpDNS/BlockHttpDNS.yaml"
    interval: 86400
    
  AdvertisingTest:
    type: http
    behavior: classical
    format: text
    path: ./rules/Clash/AdvertisingTest/AdvertisingTest_Classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/AdvertisingTest/AdvertisingTest_Classical.yaml"
    interval: 86400

  ZhihuAds:
    type: http
    behavior: classical
    format: text
    path: ./rules/Clash/ZhihuAds/ZhihuAds.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/ZhihuAds/ZhihuAds.yaml"
    interval: 86400

  YouTube:
    type: http
    behavior: classical
    format: text
    path: ./rules/Clash/YouTube/YouTube.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.yaml"
    interval: 86400

  YouTubeMusic:
    type: http
    behavior: classical
    format: text
    path: ./rules/Clash/YouTubeMusic/YouTubeMusic.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTubeMusic/YouTubeMusic.yaml"
    interval: 86400

  Netflix:
    type: http
    behavior: classical
    format: text
    path: ./rules/Clash/Netflix/Netflix_Classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix_Classical.yaml"
    interval: 86400

  Instagram:
    type: http
    behavior: classical
    format: text
    path: ./rules/Clash/Instagram/Instagram.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Instagram/Instagram.yaml"
    interval: 86400

  Twitter:
    type: http
    behavior: classical
    format: text
    path: ./rules/Clash/Twitter/Twitter.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Twitter/Twitter.yaml"
    interval: 86400

  Facebook:
    type: http
    behavior: classical
    format: text
    path: ./rules/Clash/Facebook/Facebook.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Facebook/Facebook.yaml"
    interval: 86400

  Telegram:
    type: http
    behavior: classical
    format: text
    path: ./rules/Clash/Telegram/Telegram.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.yaml"
    interval: 86400

  WeChat:
    type: http
    behavior: classical
    format: text
    path: ./rules/Clash/WeChat/WeChat.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/WeChat/WeChat.yaml"
    interval: 86400

  Spotify:
    type: http
    behavior: classical
    format: text
    path: ./rules/Clash/Spotify/Spotify.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Spotify/Spotify.yaml"
    interval: 86400

  BiliBili:
    type: http
    behavior: classical
    format: text
    path: ./rules/Clash/BiliBili/BiliBili.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BiliBili/BiliBili.yaml"
    interval: 86400

  ChinaMedia:
    type: http
    behavior: classical
    format: text
    path: ./rules/Clash/ChinaMedia/ChinaMedia.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/ChinaMedia/ChinaMedia.yaml"
    interval: 86400

  Game:
    type: http
    behavior: classical
    format: text
    path: ./rules/Clash/Game/Game.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Game/Game.yaml"
    interval: 86400

  Microsoft:
    type: http
    behavior: classical
    format: text
    path: ./rules/Clash/Microsoft/Microsoft.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.yaml"
    interval: 86400

  Apple:
    type: http
    behavior: classical
    format: text
    path: ./rules/Clash/Apple/Apple_Classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/Apple_Classical.yaml"
    interval: 86400

  Google:
    type: http
    behavior: classical
    format: text
    path: ./rules/Clash/Google/Google.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google.yaml"
    interval: 86400

  GitHub:
    type: http
    behavior: classical
    format: text
    path: ./rules/Clash/GitHub/GitHub.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GitHub/GitHub.yaml"
    interval: 86400

  LAN:
    type: http
    behavior: classical
    format: text
    path: ./rules/Clash/Lan/Lan.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Lan/Lan.yaml"
    interval: 86400

  Direct:
    type: http
    behavior: classical
    format: text
    path: ./rules/cnip.list
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Direct/Direct.yaml"
    interval: 86400
    
  DNS:
    type: http
    behavior: classical
    format: text
    path: ./rules/Clash/DNS/DNS.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/DNS/DNS.yaml"
    interval: 86400

  ChinaMax:
    type: http
    behavior: classical
    format: text
    path: ./rules/Clash/ChinaMax/ChinaMax_Classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/ChinaMax/ChinaMax_Classical.yaml"
    interval: 86400

  Global:
    type: http
    behavior: classical
    format: text
    path: ./rules/Clash/Global/Global_Classical.yaml
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Global/Global_Classical.yaml"
    interval: 86400
    



# 规则
rules:
  # 自定义规则优先放前面
  - GEOSITE,category-ads-all,🛑 广告拦截
  # 为过滤 P2P 流量（BT 下载），可添加一条 `DST-PORT` 规则（ShellCrash 会默认开启“只代理常用端口”，可忽略此项）
  - DST-PORT,6881-6889,🎯 全球直连
  - GEOSITE,private,🔒 私有网络
  - GEOSITE,microsoft@cn,Ⓜ️ 微软服务
  - GEOSITE,apple-cn,🍎 苹果服务
  - GEOSITE,google-cn,📢 谷歌服务
  - GEOSITE,category-games@cn,🎮 游戏平台
  - GEOSITE,speedtest,📈 网络测速
  - GEOSITE,geolocation-!cn,🪜 代理域名
  - GEOSITE,cn,🔗 直连域名
  - GEOIP,telegram,📲 电报消息
  - GEOIP,private,🔒 私有网络,no-resolve
  - GEOIP,cn,🇨🇳 国内 IP
  - MATCH,🐟 漏网之鱼
